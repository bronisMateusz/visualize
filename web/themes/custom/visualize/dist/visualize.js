(()=>{const n=document.querySelectorAll(".products-gallery");if(n){const m=(t,e)=>{switch(e){case 0:t.style.setProperty("z-index","3");break;case 100:t.style.setProperty("z-index","2");break;case 200:t.style.setProperty("z-index","0");break;default:t.style.setProperty("z-index","1")}},f=t=>{const e=t.querySelector(".product-details__active");return Array.prototype.indexOf.call(e.parentNode.children,e)},x=(t,e)=>{const c=t.querySelectorAll("[class*='product-details']:not([class$='__active'])").length,s=f(t);if(e==="prev")return s>0?s-1:c;if(e==="next")return s<c?s+1:0},v=t=>{const e=t.querySelector(".product-details__active");e.className=e.className.replace("__active","")},y=(t,e)=>{const c=t.querySelector(`[class*='product-details']:nth-child(${e+1})`);c.className=c.className+"__active"},P=(t,e,c,s)=>(t>s&&(t=t-e),t<c&&(t=t+e),t==c&&(t=s),t*=100),d=t=>{t.classList.add("animated"),t.addEventListener("animationend",()=>t.classList.remove("animated"))},a=(t,e)=>{const c=t.querySelectorAll(".product-image__wrapper"),s=c.length,h=-2,q=s-2;c.forEach((_,A)=>{const k=A+e;Array.from(_.children).forEach((r,I)=>{let o=I-k;o=P(o,s,h,q),r.style.right=o+"%",d(r),m(r,o)})})},S=(t,e)=>t.querySelector(`.product-image:nth-child(${e})`).src.split("?")[0].replace("styles/product_photo/public/",""),u=(t,e)=>{const c=t.parentNode.querySelector(".products-background");if(c){d(c);const s=S(t,e+1);c.style.backgroundImage=`url(${s})`}},i=(t,e)=>{const c=t.querySelectorAll("[class*='product-details']").length,s=t.querySelector(".progress-slide");s.style.width=100*(e+1)/c+"%"},p=t=>!!t.querySelector(".animated"),l=(t,e)=>{const c=x(t,e);v(t),y(t,c),a(t,c),u(t,c),i(t,c)};n.forEach(t=>{a(t,0),u(t,0),i(t,0);const e=t.querySelector(".prev-product"),c=t.querySelector(".next-product");e.addEventListener("click",()=>{p(t)||l(t,"prev")}),c.addEventListener("click",()=>{p(t)||l(t,"next")})})}})();
