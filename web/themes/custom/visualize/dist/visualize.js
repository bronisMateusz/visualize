(()=>{const d=document.querySelectorAll(".products-gallery");if(d){const f=(t,c,e)=>{switch(c){case 0:t.style.setProperty("z-index",e+1);break;case 100:t.style.setProperty("z-index",e);break;case 200:t.style.setProperty("z-index",e-2);break;case-100:t.style.setProperty("z-index",e-1);break;default:t.style.setProperty("z-index",e-2)}},x=t=>{const c=t.querySelector(".product-details__active");return Array.prototype.indexOf.call(c.parentNode.children,c)},P=(t,c)=>{const e=t.querySelectorAll("[class*='product-details']:not([class$='__active'])").length,s=x(t);if(c==="prev")return s>0?s-1:e;if(c==="next")return s<e?s+1:0},v=t=>{const c=t.querySelector(".product-details__active");c.className=c.className.replace("__active","")},S=(t,c)=>{const e=t.querySelector(`[class*='product-details']:nth-child(${c+1})`);e.className=e.className+"__active"},h=(t,c,e,s)=>(t>s&&(t=t-c),t<e&&(t=t+c),t==e&&(t=s),t*=100),a=t=>{t.classList.add("animated"),t.addEventListener("animationend",()=>t.classList.remove("animated"))},i=(t,c)=>{const e=t.querySelectorAll(".product-image__wrapper"),s=e.length,_=-2,y=s-2;e.forEach((k,m)=>{const A=m+c;m<4&&Array.from(k.children).forEach((n,I)=>{let o=I-A;o=h(o,s,_,y),n.style.right=o+"%",a(n),f(n,o,s)})})},q=(t,c)=>t.querySelector(`.product-image:nth-child(${c})`).src.split("?")[0].replace("styles/product_photo/public/",""),u=(t,c)=>{const e=t.parentNode.querySelector(".products-background");if(e){a(e);const s=q(t,c+1);e.style.backgroundImage=`url(${s})`}},p=(t,c)=>{const e=t.querySelectorAll("[class*='product-details']").length,s=t.querySelector(".progress-slide");s.style.width=100*(c+1)/e+"%"},r=t=>t.querySelector(".product-image.animated"),l=(t,c)=>{const e=P(t,c);v(t),S(t,e),i(t,e),u(t,e),p(t,e)};d.forEach(t=>{i(t,0),u(t,0),p(t,0);const c=t.querySelector(".prev-product"),e=t.querySelector(".next-product");c.addEventListener("click",()=>{r(t),r(t)||l(t,"prev")}),e.addEventListener("click",()=>{r(t)||l(t,"next")})})}})();
