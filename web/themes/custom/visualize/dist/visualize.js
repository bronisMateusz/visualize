(()=>{const r=document.querySelectorAll(".products-gallery");if(r){const p=(t,e,s,c)=>(t>c&&(t=t-e),t<s&&(t=t+e),t==s&&(t=c),t*=100),x=(t,e)=>{t.classList.add("animated"),t.style.right=e+"%",t.addEventListener("animationend",()=>t.classList.remove("animated"))},f=(t,e)=>{switch(e){case 0:t.style.setProperty("z-index","3");break;case 100:t.style.setProperty("z-index","2");break;case 200:t.style.setProperty("z-index","0");break;default:t.style.setProperty("z-index","1")}},n=(t,e)=>{const s=t.querySelectorAll(".product-image__wrapper"),c=s.length,S=-2,h=c-2;s.forEach((q,A)=>{const _=A+e;Array.from(q.children).forEach((l,I)=>{let o=I-_;o=p(o,c,S,h),x(l,o),f(l,o)})})},d=t=>t.querySelector(".product-details__active"),v=t=>{const e=d(t);return Array.prototype.indexOf.call(e.parentNode.children,e)},P=(t,e)=>{const s=t.querySelectorAll("[class*='product-details']:not([class$='__active'])").length,c=v(t);if(e==="prev")return c>0?c-1:s;if(e==="next")return c<s?c+1:0},m=t=>{const e=d(t);e.className=e.className.replace("__active","")},y=(t,e)=>{const s=t.querySelector(`[class*='product-details']:nth-child(${e+1})`);s.className=s.className+"__active"},i=(t,e)=>{const s=t.querySelectorAll("[class*='product-details']").length,c=t.querySelector(".progress-slide");c.style.width=100*(e+1)/s+"%"},a=t=>!!t.querySelector(".animated"),u=(t,e)=>{const s=P(t,e);m(t),y(t,s),n(t,s),i(t,s)};r.forEach(t=>{n(t,0),i(t,0);const e=t.querySelector(".prev-product"),s=t.querySelector(".next-product");e.addEventListener("click",()=>{a(t)||u(t,"prev")}),s.addEventListener("click",()=>{a(t)||u(t,"next")})})}})();
