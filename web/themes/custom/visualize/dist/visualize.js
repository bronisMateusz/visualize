(()=>{const n=document.querySelectorAll(".products-gallery");if(n){const x=(t,e,s,c)=>(t>c&&(t=t-e),t<s&&(t=t+e),t==s&&(t=c),t*=100),f=(t,e)=>{t.classList.add("animated"),t.style.right=e+"%",t.addEventListener("animationend",()=>t.classList.remove("animated"))},P=(t,e)=>{switch(e){case 0:t.style.setProperty("z-index","3");break;case 100:t.style.setProperty("z-index","2");break;case 200:t.style.setProperty("z-index","0");break;default:t.style.setProperty("z-index","1")}},r=(t,e)=>{const s=t.querySelectorAll(".product-image__wrapper"),c=s.length,h=-2,_=c-2;s.forEach((q,A)=>{const I=A+e;Array.from(q.children).forEach((l,E)=>{let o=E-I;o=x(o,c,h,_),f(l,o),P(l,o)})})},d=t=>t.querySelector(".product-details__active"),v=t=>{const e=d(t);return Array.prototype.indexOf.call(e.parentNode.children,e)},i=t=>t.querySelectorAll("[class*='product-details']:not([class$='__active'])").length,m=(t,e)=>{const s=i(t),c=v(t);if(e==="prev")return c>0?c-1:s;if(e==="next")return c<s?c+1:0},y=t=>{const e=d(t);e.className=e.className.replace("__active","")},S=(t,e)=>{const s=t.querySelector(`[class*='product-details']:nth-child(${e+1})`);s.className=s.className+"__active"},a=(t,e)=>{const s=i(t),c=t.querySelector(".progress-slide");c.style.width=100/s*e+"%"},u=t=>!!t.querySelector(".animated"),p=(t,e)=>{const s=m(t,e);y(t),S(t,s),r(t,s),a(t,s)};n.forEach(t=>{r(t,0),a(t,0);const e=t.querySelector(".prev-product"),s=t.querySelector(".next-product");e.addEventListener("click",()=>{u(t)||p(t,"prev")}),s.addEventListener("click",()=>{u(t)||p(t,"next")})})}})();
